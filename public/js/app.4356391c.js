(function(e){function t(t){for(var a,s,r=t[0],l=t[1],c=t[2],u=0,h=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&h.push(n[s][0]),n[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(h.length)h.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],a=!0,r=1;r<i.length;r++){var l=i[r];0!==n[l]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=i[0]))}return e}var a={},n={app:0},o=[];function s(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=a,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(i,a,function(t){return e[t]}.bind(null,a));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;o.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"05a5":function(e,t,i){"use strict";var a=i("e94d"),n=i.n(a);n.a},1:function(e,t){},"11f5":function(e,t,i){},"1fe8":function(e,t,i){e.exports=i.p+"img/error.a18bc0ce.png"},2174:function(e,t,i){},"2b43":function(e,t,i){},"2eed":function(e,t,i){},"3f64":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("router-view")],1)],1)},o=[],s=(i("b0c0"),i("5530")),r=i("2f62"),l=i("bc3a"),c=i.n(l),d=c.a.create({timeout:36e5});function u(e){return d.post("api",e).then((function(e){return e.data}))}function h(e,t){return d.post("api/v1/user/login",{user:e,pwd:t}).then((function(e){return e.data}))}function p(){return d.post("api/v1/user/logout",{}).then((function(e){return e.data}))}function m(){return d.post("api/v1/user/check",{}).then((function(e){return e.data}))}function f(e){return d.post("api/v1/album/download/record",{albumId:e}).then((function(e){return e.data}))}function g(){return d.post("api/v1/search/key/top",{}).then((function(e){return e.data}))}function v(e,t){return d.post("api/v1/upload/get",{curPage:e,pageSize:t}).then((function(e){return e.data}))}function b(e,t,i,a,n,o,s){return d.post("api/v1/upload/manage",{recordId:e,allow:t,refuseReason:i,uploadPath:a,uploadPathNeid:n,srcName:o,needCount:s}).then((function(e){return e.data}))}var y={name:"App",methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])("userInfo",["refreshSessionFunc"])),{},{_checkLogin:function(){var e=this,t=this;m().then((function(i){4001===i.code?"login"!==e.$route.name&&(t.$message.error("登录信息已过期，请重新登陆！"),t.$router.push("/login")):t.refreshSessionFunc(i.data)})).catch((function(e){t.$message.error("与服务器断开链接，请联系管理员："+e),t.$router.push("/login")}))},checkLogin:function(){var e=this;this._checkLogin(),setInterval((function(){"/login"!==e.$route.path&&e._checkLogin()}),2e3)}}),created:function(){var e=this;localStorage.getItem("pc_store")&&this.$store.replaceState(Object.assign({},this.$store.state,JSON.parse(localStorage.getItem("pc_store")))),setInterval((function(){localStorage.setItem("pc_store",JSON.stringify(e.$store.state))}),2e3),window.addEventListener("beforeunload",(function(){localStorage.setItem("pc_store",JSON.stringify(e.$store.state))})),document.oncontextmenu=function(e){e.preventDefault()},"/login"!==this.$route.path&&(this.userInfo.session||0===this.userInfo.session.length&&this.$router.push("/login")),this.checkLogin()},computed:Object(s["a"])({},Object(r["c"])({userInfo:"userInfo/userInfo"}))},w=y,_=(i("5c0b"),i("0c7c")),S=Object(_["a"])(w,n,o,!1,null,null,null),x=S.exports,k=i("8c4f"),C=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-row",{staticClass:"container"},[i("el-col",{staticClass:"header",attrs:{span:24}},[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"main_content",on:{click:e.jumpToBuild}},[i("img",{staticStyle:{height:"30px","vertical-align":"middle"},attrs:{src:"logo.gif"}}),i("span",{staticClass:"logo",staticStyle:{"font-size":"20px","margin-left":"10px","vertical-align":"bottom"}},[e._v("仅一素材库")])])]),i("el-col",{staticClass:"userinfo",attrs:{span:12}},[i("el-button",{class:{"is-active":"/build"===e.currentPath},attrs:{size:"small",icon:"el-icon-edit"},on:{click:e.jumpToBuild}},[e._v(" 工作台 ")]),i("el-button",{class:{"is-active":"/manage/list"===e.currentPath},attrs:{size:"small",icon:"el-icon-tickets"},on:{click:e.jumpToList}},[e._v("我的清单 ")]),"717"===e.userInfo.email?i("el-button",{class:{"is-active":"/upload/manage"===e.currentPath},staticStyle:{"margin-right":"10px"},attrs:{size:"small",icon:"el-icon-tickets"},on:{click:e.jumpToUploadManage}},[e._v("素材审核 ")]):e._e(),i("el-popover",{staticStyle:{"margin-right":"20px"},attrs:{placement:"bottom-start",width:"550",trigger:"click"},on:{show:e.handleOpenDownload,hide:e.handleCloseDownload}},[i("el-table",{attrs:{data:e.downloadTask,"empty-text":"今日暂无下载任务"}},[i("el-table-column",{attrs:{width:"300",label:"任务名称","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.opened?i("div",{staticStyle:{color:"#888888"}},[e._v(" "+e._s(t.row.firstSrcName)+" ")]):i("div",{staticStyle:{color:"#000000"}},[e._v(" "+e._s(t.row.firstSrcName)+" ")])]}}])}),i("el-table-column",{attrs:{width:"150",property:"startTime",label:"下载时间"}}),i("el-table-column",{attrs:{width:"100",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:t.row.status?"success":"danger",size:"mini",icon:t.row.status?"el-icon-download":"el-icon-loading"},on:{click:function(i){return e.handleDownload(t.row)}}})]}}])})],1),i("el-button",{attrs:{slot:"reference",size:"small",circle:"",type:e.visible?"danger":"",icon:e.visible?"el-icon-loading":"el-icon-download"},slot:"reference"})],1),i("el-dropdown",{attrs:{trigger:"hover"}},[i("span",{staticClass:"el-dropdown-link userinfo-inner"},[e._v(e._s(e.userInfo.name))]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{nativeOn:{click:function(t){return e.logout(t)}}},[e._v("注销登陆")])],1)],1)],1)],1),i("el-col",{staticClass:"main",attrs:{span:24}},[i("section",{staticClass:"content-container"},[i("div",{staticClass:"grid-content bg-purple-light"},[i("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("router-view")],1)],1)],1)])])],1)],1)},D=[];i("4160"),i("c975"),i("baa5"),i("ac1f"),i("5319"),i("159b");function I(){var e=new Date,t="-",i=e.getFullYear(),a=e.getMonth()+1,n=e.getDate();return a>=1&&a<=9&&(a="0"+a),n>=0&&n<=9&&(n="0"+n),i+t+a+t+n}var P={barVisible:!1},L={SET_VISIBLE:function(e,t){console.log(t),e.barVisible=t}},$={setVisible:function(e,t){var i=e.commit;console.log(t),i("SET_VISIBLE",t)},openVisible:function(e){var t=e.commit;t("SET_VISIBLE",!0)},closeVisible:function(e){var t=e.commit;t("SET_VISIBLE",!1)}},T={namespaced:!0,state:P,mutations:L,actions:$},V={session:"",name:"",email:""},O={userInfo:function(e){return{session:e.session,name:e.name,email:e.email}}},j={refreshSession:function(e,t){e.session=t},cleanSession:function(e){e.session=""},updateUserInfo:function(e,t){e.session=t.session,e.name=t.name,e.email=t.email}},M={clearUserSessionFunc:function(e){e.commit("cleanSession")},updateUserInfoFunc:function(e,t){e.commit("updateUserInfo",t)},refreshSessionFunc:function(e,t){e.commit("refreshSession",t)}},A={namespaced:!0,state:V,getters:O,mutations:j,actions:M};a["default"].use(r["a"]);var N=new r["a"].Store({modules:{downloadStatus:T,userInfo:A}}),R=N,E=window.localStorage,F=0,B={data:function(){return{currentPath:"",downloadTask:[]}},computed:Object(s["a"])({visible:function(){return R.getters.barVisible}},Object(r["c"])({userInfo:"userInfo/userInfo"})),methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])("userInfo",["clearUserSessionFunc"])),{},{jumpToBuild:function(){"/build"!==this.currentPath&&this.$router.replace("/build")},jumpToList:function(){this.$router.replace("/manage/list")},jumpToUploadManage:function(){this.$router.replace("/upload/manage")},handleOpen:function(){},handleClose:function(){},handleSelect:function(e,t){},logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{}).then((function(){p().then((function(t){e.clearUserSessionFunc().then((function(){e.$router.push("/login")}))}))})).catch((function(){}))},handleOpenDownload:function(){var e=this;u({action:"todayDownloadList"}).then((function(t){e.downloadTask=[],t.task.forEach((function(t){e.downloadTask.push({id:t.id,startTime:t.startTime,firstSrcName:t.firstSrcName.substr(0,t.firstSrcName.lastIndexOf(".")),status:0!==t.finishTime.length,opened:e.handleQueryRecord(t.id)})})),e.downloadTask.reverse()})),F=setInterval((function(){u({action:"todayDownloadList"}).then((function(t){e.downloadTask=[],t.task.forEach((function(t){e.downloadTask.push({id:t.id,startTime:t.startTime,firstSrcName:t.firstSrcName.substr(0,t.firstSrcName.lastIndexOf(".")),status:0!==t.finishTime.length,opened:e.handleQueryRecord(t.id)})})),e.downloadTask.reverse(),console.log(e.downloadTask)}))}),2e3)},handleQueryRecord:function(e){var t=E.getItem(this.genTodayDownloadTaskKey());return!(null==t||-1===JSON.parse(t).indexOf(e))},handleAddRecord:function(e){var t=E.getItem(this.genTodayDownloadTaskKey());if(null==t){var i=[];i[0]=e,E.setItem(this.genTodayDownloadTaskKey(),JSON.stringify(i))}else{var a=JSON.parse(t);a[a.length]=e,E.setItem(this.genTodayDownloadTaskKey(),JSON.stringify(a))}},handleCloseDownload:function(){clearInterval(F)},handleDownload:function(e){e.status&&(this.handleAddRecord(e.id),window.open(window.location.protocol+"//"+window.location.host+"/download/"+e.id+"/"+e.firstSrcName))},genTodayDownloadTaskKey:function(){return"down_open_"+I()}}),watch:{$route:function(e,t){this.currentPath=this.$router.currentRoute.fullPath}},mounted:function(){var e=this;this.currentPath=this.$router.currentRoute.fullPath,this.$route.params.checked||m().then((function(t){4001===t.code&&(e.$router.push("/login"),e.$message.error("登录信息已过期，请重新登陆！"))})),document.oncontextmenu=function(e){e.preventDefault()}}},W=B,U=(i("8b8d"),Object(_["a"])(W,C,D,!1,null,"3202a4e8",null)),z=U.exports,K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{ref:"loginForm",staticClass:"demo-ruleForm login-container",attrs:{model:e.loginForm,rules:e.loginRule,"label-position":"left","label-width":"0px"}},[i("h3",{staticClass:"title"},[e._v("仅一素材库系统")]),i("el-form-item",{attrs:{prop:"user"}},[i("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"工号"},model:{value:e.loginForm.user,callback:function(t){e.$set(e.loginForm,"user",t)},expression:"loginForm.user"}})],1),i("el-form-item",{attrs:{prop:"pwd"}},[i("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.pwd,callback:function(t){e.$set(e.loginForm,"pwd",t)},expression:"loginForm.pwd"}})],1),i("el-checkbox",{staticClass:"remember",attrs:{checked:""},model:{value:e.loginForm.rememberPwd,callback:function(t){e.$set(e.loginForm,"rememberPwd",t)},expression:"loginForm.rememberPwd"}},[e._v("记住密码")]),i("el-form-item",{staticStyle:{width:"100%"}},[i("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loginLoading},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录 ")])],1)],1)},G=[],J=window.localStorage,q={data:function(){return{systemTitle:"仅一素材库系统",loginLoading:!1,loginForm:{user:"",pwd:"",rememberPwd:!0},loginRule:{user:[{required:!0,message:"请输入工号",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])("userInfo",["updateUserInfoFunc"])),{},{handleLogin:function(e){var t=this,i=this;this.$refs.loginForm.validate((function(e){if(!e)return i.$message.error("请检查用户密码是否规范！"),!1;i.loginLoading=!0,h(i.loginForm.user,btoa(i.loginForm.pwd)).then((function(e){i.loginLoading=!1,2e3===e.code?(i.$message.success("登陆成功,【"+e.data.userName+"】欢迎您回来！"),i.loginForm.rememberPwd?J.setItem("u",btoa(JSON.stringify(i.loginForm))):J.removeItem("u"),i.updateUserInfoFunc({session:e.data["session"],name:e.data["userName"],email:t.loginForm.user}).then((function(){if(i.$route.query.ref){var e=JSON.parse(atob(i.$route.query.ref));e.fromShare?i.$router.push({name:"share",query:{albumId:e.albumId}}):i.$router.push({name:"build",params:{checked:!0}})}else i.$router.push({name:"build",params:{checked:!0}})}))):i.$message.error("登陆失败，请检查用户名密码！")}))}))}}),mounted:function(){var e=J.getItem("u");e&&(this.loginForm=JSON.parse(atob(e)))}},H=q,Q=(i("05a5"),Object(_["a"])(H,K,G,!1,null,"e70ec4ea",null)),X=Q.exports,Y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("div",{staticStyle:{padding:"10px 150px 0 150px",background:"#1e162f"}},[i("el-input",{staticClass:"my-input",attrs:{placeholder:"请输入关键字"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch(t)}},model:{value:e.search.key,callback:function(t){e.$set(e.search,"key",t)},expression:"search.key"}},[i("el-button",{staticClass:"search-button",staticStyle:{"border-radius":"100px",margin:"0px -20px !important"},attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleSearch},slot:"append"})],1),i("div",{staticStyle:{padding:"15px 0",color:"#ffffff"}},[e._v("热门搜索: "),e._l(e.topSearchKey,(function(t){return i("span",{staticStyle:{padding:"5px"},on:{click:function(i){return e.handleClickTopSearchKey(t)}}},[i("u",[e._v(e._s(t))])])}))],2)],1),1===e.dir.currentPath.length&&"营销素材展示"===e.dir.currentPath[0]&&0===e.toCreateAlbum.list.length?i("div",{staticStyle:{height:"1080px",padding:"0 150px",background:"#d1d1d1"}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.dir.loadingDir||e.loading.search,expression:"dir.loadingDir || loading.search"}],staticStyle:{padding:"10px 10px 0 10px",height:"100%"},attrs:{"element-loading-background":"rgba(209, 209, 209)"}},[i("el-row",{attrs:{gutter:10,justify:"center",align:"middle"}},e._l(e.menuPath,(function(t){return i("el-col",{attrs:{xs:24,sm:12,md:8,lg:6,xl:6}},[i("div",{staticClass:"menu-content",staticStyle:{border:"#000000 3px"},on:{click:function(i){return e.handleClickRootMenu(t)}}},[i("img",{attrs:{src:t.icon}})])])})),1)],1)]):i("el-row",{staticStyle:{padding:"10px 150px 0 150px",height:"1080px"},attrs:{gutter:20}},[i("el-col",{staticClass:"bg-purple",attrs:{span:18}},[i("el-row",{staticClass:"contentHead"},[i("el-col",{attrs:{span:18}},[i("span",{staticStyle:{color:"#000000","font-size":"15px",cursor:"pointer"},on:{click:function(t){return e.handleListLenovoDir("/营销素材展示","ent")}}},[e._v("首页")]),e._l(e.dir.currentPath,(function(t,a){return"营销素材展示"!==t?i("span",{staticStyle:{display:"inline"}},[e._v(" / "),i("span",{staticStyle:{color:"#000000","font-size":"15px",cursor:"pointer"},on:{click:function(i){return e.handleClickDirPath(t,a)}}},[e._v(e._s(t))])]):e._e()}))],2),i("el-col",{attrs:{span:3,offset:3}},[e._v(" 共"+e._s(e.dir.tableData.length)+"个资源 ")])],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dir.loadingDir||e.loading.search,expression:"dir.loadingDir || loading.search"}],ref:"fileTable",staticStyle:{width:"100%"},attrs:{data:e.dir.tableData,"tooltip-effect":"dark","empty-text":"文件夹为空"},on:{"row-click":e.handleClickDirItem}},[i("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"文件名"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{},[t.row.is_dir?i("i",{staticClass:"el-icon-folder-opened"}):t.row.mime_type.startsWith("video")?i("i",{staticClass:"el-icon-video-camera"}):t.row.mime_type.startsWith("image")?i("img",{staticStyle:{width:"60px",height:"60px","line-height":"30px"},attrs:{onerror:e.defaultImg,preview:"dir_image_list","preview-text":t.row.path,src:e.genPreviewUrl(t.row.neid,t.row.hash,t.row.rev,t.row.mime_type)}}):t.row.mime_type.startsWith("doc")?i("i",{staticClass:"el-icon-tickets"}):i("i",{staticClass:"el-icon-question"}),i("span",{staticStyle:{"vertical-align":"top",color:"#333333"}},[e._v(" "+e._s(" "+t.row.path.substr(t.row.path.lastIndexOf("/")+1)))]),t.row.tags?i("div",e._l(t.row.tags,(function(t){return i("el-tag",{staticStyle:{"margin-right":"2px"},attrs:{type:"info",size:"mini"}},[e._v(e._s(t.replace(e.markReg,""))+" ")])})),1):e._e()])]}}])}),i("el-table-column",{attrs:{label:"引用次数",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.is_dir?"-":t.row.ref_num))])]}}])}),i("el-table-column",{attrs:{label:"下载次数",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.is_dir?"-":t.row.download_num))])]}}])}),i("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_dir?i("span",[e._v("-")]):i("span",[i("el-button",{attrs:{circle:"",type:"",icon:"el-icon-plus"},on:{click:function(i){return i.stopPropagation(),e.handleAdd(t.$index,t.row)}}})],1)]}}])})],1)],1),i("el-col",{staticClass:"bg-purple",attrs:{span:6}},[i("div",{staticClass:"content_div"},[i("div",{staticClass:"center_vertical",staticStyle:{width:"100%"}},[i("h1",[e._v("清单编辑列表（"+e._s(e.toCreateAlbum.list.length)+"）")])]),i("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{stripe:"","empty-text":"清单内还没有内容","row-key":"neid",id:"toSortTable",data:e.toCreateAlbum.list}},[i("el-table-column",{attrs:{label:"预览"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.path.substr(t.row.path.lastIndexOf("/")+1),placement:"top"}},[t.row.mime_type.startsWith("video")?i("img",{staticClass:"preview_img",attrs:{src:"video.png"},on:{click:function(i){return e.handleGoToPreview(t.row)}}}):t.row.mime_type.startsWith("doc")?i("img",{staticClass:"preview_img",attrs:{src:e.handleGetDocumentImage(t.row.mime_type)},on:{click:function(i){return e.handleGoToPreview(t.row)}}}):t.row.mime_type.startsWith("image")?i("img",{staticClass:"preview_img",attrs:{onerror:e.defaultImg,preview:"build_image_list","preview-text":t.row.path,src:e.genPreviewUrl(t.row.neid,t.row.hash,t.row.rev,t.row.mime_type)}}):i("img",{staticClass:"preview_img",attrs:{src:"unknown.png"},on:{click:function(i){return e.handleGoToPreview(t.row)}}})])]}}])}),i("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isModify?i("el-button",{attrs:{size:"mini",type:"",plain:""},on:{click:function(i){return i.stopPropagation(),e.handleModify(t.$index,t.row,!1)}}},[e._v("取消 ")]):i("el-button",{attrs:{size:"mini",type:"",plain:""},on:{click:function(i){return i.stopPropagation(),e.handleDelete(t.$index,t.row)}}},[e._v("删除 ")])]}}])})],1),i("el-row",{staticClass:"load_more_bt",class:{no_display:0===e.toCreateAlbum.list.length},attrs:{gutter:5}},[i("el-col",{attrs:{span:8}},[i("el-button",{staticClass:"load_more_bt",attrs:{type:"info",icon:"el-icon-folder-add",loading:e.loading.saveList},on:{click:function(t){return t.stopPropagation(),e.handleSaveList(t)}}},[e._v("保存清单 ")])],1),i("el-col",{attrs:{span:8}},[i("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading.fullscreenLoading,expression:"loading.fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"load_more_bt",attrs:{type:"info",icon:"el-icon-suitcase"},on:{click:function(t){return t.stopPropagation(),e.handleDownloadSrc(!0)}}},[e._v("下载准备 ")])],1),i("el-col",{attrs:{span:8}},[i("el-button",{staticClass:"load_more_bt",attrs:{type:"info",icon:"el-icon-delete"},on:{click:function(t){return t.stopPropagation(),e.handleClearList(t)}}},[e._v("清空 ")])],1)],1)],1)])],1),i("el-dialog",{ref:"addDialog",attrs:{title:"选择已有解说词",visible:e.toCreateAlbum.descSelectDialogVisible,center:""},on:{"update:visible":function(t){return e.$set(e.toCreateAlbum,"descSelectDialogVisible",t)}}},[i("span",{staticClass:"dialog-footer"},[i("img",{staticClass:"preview_img",staticStyle:{margin:"0 auto"},attrs:{src:e.toCreateAlbum.previewUrl}})]),i("el-table",{staticStyle:{width:"70%"},attrs:{data:e.toCreateAlbum.toSelectDesc,"empty-text":"暂无可用解说词"},on:{"row-click":e.handleSelectDesc}},[i("el-table-column",{attrs:{prop:"desc"}})],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",icon:"el-icon-circle-plus"},on:{click:function(t){return t.stopPropagation(),e.handleCustomDesc(t)}}},[e._v("不借鉴")])],1)],1),i("el-dialog",{attrs:{title:"【"+e.selectListName+"】清单详情",visible:e.visible.listDetailDialogVisible},on:{"update:visible":function(t){return e.$set(e.visible,"listDetailDialogVisible",t)}}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.listDetailLoading,expression:"loading.listDetailLoading"}],attrs:{data:e.listDetail},on:{"selection-change":e.handleSelectListItem}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{label:"预览"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.path,placement:"top"}},[i("img",{staticClass:"preview_img",attrs:{onerror:e.defaultImg,src:e.genPreviewUrl(t.row.neid,t.row.hash,t.row.rev,t.row.mime_type)}})])]}}])})],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){t.stopPropagation(),e.visible.listDetailDialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary",disabled:0===e.selectListItem.length},on:{click:function(t){return t.stopPropagation(),e.handleAddListDetailToBuild(t)}}},[e._v("添 加 ")])],1)],1),i("el-dialog",{attrs:{title:e.toPlayVideo.title,visible:e.visible.videoDialogVisible},on:{"update:visible":function(t){return e.$set(e.visible,"videoDialogVisible",t)},close:e.handleCloseVideo,opened:function(t){return e.playVideo()}}},[i("video",{staticClass:"video-js vjs-big-play-centered vjs-fluid",attrs:{id:"myVideo",oncontextmenu:"return false"}},[i("p",{staticClass:"vjs-no-js"},[e._v(" To view this video please enable JavaScript, and consider upgrading to a web browser that "),i("a",{attrs:{href:"https://videojs.com/html5-video-support/",target:"_blank"}},[e._v(" supports HTML5 video ")])])])]),i("el-dialog",{attrs:{title:e.toPlayImage.title,visible:e.visible.imageDialogVisible},on:{"update:visible":function(t){return e.$set(e.visible,"imageDialogVisible",t)},close:e.handleCloseImage}},[i("el-image",{attrs:{src:e.toPlayImage.url}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("i",{staticClass:"el-icon-picture-outline"})])])],1),i("el-dialog",{attrs:{title:"【"+e.search.key+"】的搜索结果",visible:e.visible.searchDialogVisible},on:{"update:visible":function(t){return e.$set(e.visible,"searchDialogVisible",t)},close:function(e){}}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading.search,expression:"loading.search"}],staticStyle:{width:"100%"},attrs:{stripe:"","empty-text":"暂没有搜索数据",data:e.searchResult,height:"500"},on:{"row-click":e.handleClickSearch}},[i("el-table-column",{attrs:{label:"素材名","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{on:{click:function(i){return e.handleGoToPreview(t.row)}}},[i("h4",{staticStyle:{margin:"2px"}},[t.row.is_dir?i("i",{staticClass:"el-icon-folder-opened"}):t.row.mime_type.startsWith("video")?i("i",{staticClass:"el-icon-video-camera"}):t.row.mime_type.startsWith("image")?i("img",{staticClass:"preview_img",staticStyle:{height:"60px",width:"60px"},attrs:{onerror:e.defaultImg,preview:"search_image_list","preview-text":t.row.path,src:e.genPreviewUrl(t.row.neid,t.row.hash,t.row.rev,t.row.mime_type)}}):t.row.mime_type.startsWith("doc")?i("i",{staticClass:"el-icon-tickets"}):i("i",{staticClass:"el-icon-question"}),e._v(" "+e._s(t.row.path.substr(t.row.path.lastIndexOf("/")+1)))]),t.row.tags?i("div",e._l(t.row.tags,(function(t){return i("el-tag",{staticStyle:{"margin-right":"2px"},attrs:{type:"info",size:"mini"}},[e._v(e._s(t.replace(e.markReg,""))+" ")])})),1):e._e()])]}}])}),i("el-table-column",{attrs:{label:"引用次数",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.is_dir?"-":t.row.ref_num))])]}}])}),i("el-table-column",{attrs:{label:"下载次数",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.is_dir?"-":t.row.download_num))])]}}])}),i("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_dir?i("div",[i("el-button",{attrs:{circle:"",type:"primary",icon:"el-icon-folder-opened"},on:{click:function(i){return i.stopPropagation(),e.handleClickDirItem(t.row)}}})],1):i("div",[i("el-button",{attrs:{circle:"",type:"",icon:"el-icon-plus"},on:{click:function(i){return i.stopPropagation(),e.handleAdd(t.$index,t.row)}}})],1)]}}])})],1),i("el-button",{staticClass:"load_more_bt",class:{no_display:!e.search.hasNext},staticStyle:{"margin-top":"30px"},attrs:{loading:e.loading.searchMore},on:{click:function(t){return t.stopPropagation(),e.handleLoadMore(t)}}},[e._v("加载更多 ")])],1)],1)},Z=[],ee=(i("a434"),i("b680"),i("d3b7"),i("25f0"),i("841c"),i("1276"),i("2ca0"),i("498a"),i("b85c"));function te(e,t,i,a,n){return"https://console.box.lenovo.com/v2/preview_router?type="+a+"&root=databox&path=&path_type=ent&from=&neid="+e+"&hash="+t+"&rev="+i+"&X-LENOVO-SESS-ID="+n+"&xxoo="+(new Date).getTime()}var ie=i("aa47"),ae=i("f0e2");i("4de4"),i("a15b"),i("8a79");function ne(e){var t="document.png";return e.startsWith("video")?t="video.png":e.endsWith("pdf")?t="pdf.png":e.endsWith("ppt")||e.endsWith("pptx")?t="ppt.png":e.endsWith("doc")?t="docm.png":e.endsWith("xlsx")&&(t="xlsx.png"),t}var oe=[{name:"STICK线",path:"STICK线",icon:"menu-icon/11.png"},{name:"听装线",path:"听装线",icon:"menu-icon/12.png"},{name:"软双铝线",path:"软双铝线",icon:"menu-icon/13.png"},{name:"制粒线",path:"制粒线",icon:"menu-icon/14.png"},{name:"泡罩线",path:"泡罩线",icon:"menu-icon/15.png"},{name:"其他生产线",path:"其他生产线",icon:"menu-icon/18.png"},{name:"公司介绍",path:"公司介绍",icon:"menu-icon/16.png"},{name:"友商信息",path:"友商信息",icon:"menu-icon/17.png"}];function se(e){if(!e||"string"!=typeof e)return!1;var t=e.split("").reverse().join("");return t.substring(0,t.search(/\./)).split("").reverse().join("")}function re(e){return e.substring(e.lastIndexOf("/")+1)}function le(e){return console.log(e),e.filter((function(e){return e.is_dir}))}function ce(e){return e.srcType&&(e.mime_type=e.srcType),e.srcNeid&&(e.neid=e.srcNeid),e.srcHash&&(e.hash=e.srcHash),e.srcRev&&(e.rev=e.srcRev),e.srcPath&&(e.path=e.srcPath),e}var de={name:"index",components:{},data:function(){return{dir:{currentPath:[],tableData:[],loadingDir:!1},markReg:/<mark>|<\/mark>/g,searchTabName:"dir",search:{type:"",key:"",hasNext:!1},loading:{search:!1,searchMore:!1,searchList:!1,saveList:!1,fullscreenLoading:!1,listDetailLoading:!1},menuPath:oe,searchResult:[],searchListResult:[],selectListId:0,selectListName:0,selectListItem:[],listDetail:[],topSearchKey:[],toCreateAlbum:{idEditMode:!1,editListId:-1,name:"",list:[],modifyRow:"",toAddRow:{},previewUrl:"",descSelectDialogVisible:!1,toSelectDesc:[]},loadMoreForm:{key:"",nextOffset:0},visible:{listDetailDialogVisible:!1,videoDialogVisible:!1,imageDialogVisible:!1,searchDialogVisible:!1},defaultImg:'this.src="'+i("1fe8")+'"',player:null,toPlayVideo:{title:"",url:""},toPlayImage:{title:"",url:""}}},computed:Object(s["a"])({},Object(r["c"])({userInfo:"userInfo/userInfo"})),methods:{handleClickRootMenu:function(e){this.handleListLenovoDir("/营销素材展示/"+e.path,"ent")},handleClickTopSearchKey:function(e){this.handleSearch(e)},handleGetDocumentImage:function(e){return ne(e)},handlePlayVideo:function(e,t){this.visible.videoDialogVisible=!0,this.toPlayVideo.url=e,this.toPlayVideo.title=t},handlePlayImage:function(e,t){this.visible.imageDialogVisible=!0,this.toPlayImage.url=e,this.toPlayImage.title=t},playVideo:function(){var e=this;if(null==this.player)Object(ae["a"])(document.getElementById("myVideo"),{controls:!0,preload:"auto",autoplay:!1,fluid:!0,language:"zh-CN",muted:!1,inactivityTimeout:!1,controlBar:{children:[{name:"playToggle"},{name:"currentTimeDisplay"},{name:"progressControl"},{name:"durationDisplay"},{name:"volumePanel",inline:!1},{name:"FullscreenToggle"}]},sources:[{src:e.toPlayVideo.url,type:"video/mp4"}]},(function(){e.player=this}));else{var t={src:e.toPlayVideo.url,type:"video/mp4"};this.player.pause(),this.player.src(t),this.player.load(t),this.player.play()}},handleCloseVideo:function(){null!=this.player&&this.player.pause()},handleCloseImage:function(){this.toPlayImage.url=""},handleSelectListItem:function(e){this.selectListItem=e},handleAddListDetailToBuild:function(){var e=this;this.selectListItem.forEach((function(t){e.toCreateAlbum.list.push({joyeaDesc:t.desc,path:t.path,neid:t.neid,hash:t.hash,rev:t.rev,mime_type:t.mime_type,filename:t.path.substr(t.path.lastIndexOf("/")+1),bytes:t.bytes,isModify:!1})})),u({action:"referList",albumId:this.selectListId}).then((function(e){e.result||console.log("引用计数失败："+e.msg)})),this.visible.listDetailDialogVisible=!1},handleSeeListDetail:function(e){var t=this;this.visible.listDetailDialogVisible=!0,this.loading.listDetailLoading=!0,this.listDetail=[],this.selectListItem=[],this.selectListId=e.album_id,this.selectListName=e.album_name,u({action:"listDetail",albumId:e.album_id}).then((function(e){e.result?e.list.forEach((function(e){t.listDetail.push(e)})):(_this.$notify.error({title:"查看出错",message:"查看过程出现错误："+e.msg}),console.log(e.msg)),t.loading.listDetailLoading=!1}))},handleSearch:function(e){var t=this;void 0!==e&&"string"==typeof e&&(t.search.key=e),0===t.search.key.trim().length?t.$message.warning("请输入搜索的关键字！"):"list"===t.searchTabName?(t.loading.searchList=!0,u({action:"searchList",searchKey:_searchKey}).then((function(e){t.loading.searchList=!1,e.result?(t.searchListResult=[],0===e.list.length?t.$message.error("没有搜索到与【"+t.search.key+"】有关的清单！"):e.list.forEach((function(e){t.searchListResult.push(e)}))):(t.$notify.error({title:"搜索出错",message:"搜索过程出现错误："+e.msg}),console.log(e.msg))})),t.searchTabName="list"):(t.loading.search=!0,u({action:"search",searchKey:t.search.key,offset:0}).then((function(e){e.result?(t.search.hasNext=e["has_more"],t.search.hasNext&&(t.loadMoreForm.key=t.search.key,t.loadMoreForm.nextOffset=e["next_offset"]),t.searchResult=[],0===e.content.length?t.$message.error("没有搜索到与【"+t.search.key+"】有关的文件或文件夹！"):(t.visible.searchDialogVisible=!0,e.content.forEach((function(e){e.joyeaDesc="",e.isModify=!1,t.searchResult.push(e)})))):(t.$notify.error({title:"搜索出错",message:"搜索过程出现错误："+e.msg}),console.log(e.msg))})).finally((function(){t.loading.search=!1})),t.searchTabName="pan")},handleLoadMore:function(){var e=this;0!==e.loadMoreForm.key.trim().length&&(e.loading.searchMore=!0,u({action:"search",searchKey:e.loadMoreForm.key,searchType:e.loadMoreForm.type,offset:e.loadMoreForm.nextOffset}).then((function(t){t.result?(e.search.hasNext=t["has_more"],e.search.hasNext&&(e.loadMoreForm.key=e.search.key,e.loadMoreForm.nextOffset=t["next_offset"]),t.content.forEach((function(t){t.joyeaDesc="",t.isModify=!1,e.searchResult.push(t)}))):(e.$notify.error({title:"搜索出错",message:"搜索过程出现错误："+t.msg}),console.log(t.msg))})).finally((function(){e.loading.searchMore=!1})))},handleAdd:function(e,t){var i=this,a=!1;this.toCreateAlbum.list.forEach((function(e){e.neid===t.neid&&(a=!0)})),a?this.$confirm("编辑列表中已经存在该记录，是否继续添加?","提示",{confirmButtonText:"继续添加",cancelButtonText:"取消添加",type:"warning"}).then((function(){i.toCreateAlbum.list.push(t)})).catch((function(){i.$message({type:"info",message:"取消添加"})})):this.toCreateAlbum.list.push(t)},handleSelectDesc:function(e,t,i){this.toCreateAlbum.toAddRow.joyeaDesc=e.desc,this.toCreateAlbum.list.push(this.toCreateAlbum.toAddRow),this.toCreateAlbum.toAddRow={},this.toCreateAlbum.toSelectDesc=[],this.toCreateAlbum.descSelectDialogVisible=!1},handleCustomDesc:function(){this.toCreateAlbum.toAddRow.joyeaDesc="",this.toCreateAlbum.list.push(this.toCreateAlbum.toAddRow),this.toCreateAlbum.toAddRow={},this.toCreateAlbum.toSelectDesc=[],this.toCreateAlbum.descSelectDialogVisible=!1},handleCollect:function(e,t){var i=this;u({action:"srcCollect",method:t.collect?"unCollect":"collect",neid:t.neid,path:t.path,type:t.mime_type,hash:t.hash,rev:t.rev,size:t.size}).then((function(e){e.result?(t.collect=!t.collect,i.$notify.success({type:"success",title:"提示",message:t.collect?"收藏成功:"+t.path.substr(t.path.lastIndexOf("/")+1):"取消收藏成功:"+t.path.substr(t.path.lastIndexOf("/")+1)})):console.log(e.msg)}))},handleModify:function(e,t,i){var a,n=Object(ee["a"])(this.toCreateAlbum.list);try{for(n.s();!(a=n.n()).done;){var o=a.value;if(o.isModify&&o.path!==t.path)return this.$message.warning("请先保存当前编辑项"),!1}}catch(s){n.e(s)}finally{n.f()}return i?(t.isModify?(this.toCreateAlbum.list[e].joyeaDesc=this.toCreateAlbum.modifyRow.joyeaDesc,t.isModify=!1):(this.toCreateAlbum.modifyRow=JSON.parse(JSON.stringify(t)),t.isModify=!0),!1):(this.toCreateAlbum.modifyRow.path,t.isModify=!t.isModify)},handleDelete:function(e,t){this.toCreateAlbum.list.splice(e,1)},genPreviewUrl:function(e,t,i,a){var n="pic";return a.startsWith("doc")?n="doc":a.startsWith("video")&&(n="av"),te(e,t,i,n,this.userInfo.session)},handleSaveList:function(){var e=this;this.$prompt(this.toCreateAlbum.idEditMode?"当前是编辑模式，重命名清单名称！":"请输入要保存的清单的名称",this.toCreateAlbum.idEditMode?"编辑提示":"保存提示",{confirmButtonText:this.toCreateAlbum.idEditMode?"重新保存":"保存清单",cancelButtonText:"取消",inputValue:this.toCreateAlbum.name}).then((function(t){var i=t.value;e.loading.saveList=!0,u({action:"album",method:e.toCreateAlbum.idEditMode?"reSave":"save",id:e.toCreateAlbum.editListId,name:i,src:e.toCreateAlbum.list}).then((function(t){t.result?e.$notify.success({title:e.toCreateAlbum.idEditMode?"编辑结果":"保存结果",message:e.toCreateAlbum.idEditMode?"重新保存成功":"保存成功"}):(console.log(t.msg),e.$notify.error({title:"保存结果",message:e.toCreateAlbum.idEditMode?"重新保存失败":"保存失败"})),e.loading.saveList=!1,e.$router.push("/manage/list")}))})).catch((function(){e.$message({type:"info",message:"取消保存"})}))},handleClearList:function(){var e=this;this.$alert("当前列表还没有保存，确定清空吗？","清空提示",{confirmButtonText:"确定",callback:function(t){e.toCreateAlbum.list=[]}})},handleGoToPreview:function(e){var t="pic";e.mime_type.startsWith("doc")?t="doc":e.mime_type.startsWith("video")&&(t="av");var i=te(e.neid,e.hash,e.rev,t,this.userInfo.session);e.mime_type.startsWith("video")?this.handlePlayVideo(i,e.path.substr(e.path.lastIndexOf("/")+1)):e.mime_type.startsWith("image")||(e.mime_type.startsWith("doc")?window.open(i):this.$message.error("暂不支持的预览类型！"))},handleDownloadSrc:function(e,t){var i=this,a=this,n=[],o=0;if(e){var s=0;this.toCreateAlbum.list.forEach((function(e){o+=e.bytes,n.push({index:s+=1,filename:e.path.substr(e.path.lastIndexOf("/")+1),rev:e.rev,neid:e.neid.toString(),path:e.path.replace("+","%2b"),path_type:e.path_type})}))}else n.push({filename:t.path.substr(t.path.lastIndexOf("/")+1),rev:t.rev,neid:t.neid.toString(),path_type:t.path_type});var r=o/1024,l=r/1024,c=300;this.$confirm("您已选中【 "+n.length+" 】个文件，"+(l>c?"待准备文件列表大小为【 "+l.toFixed(2)+"MB 】,文件较大，建议您分批次准备。":"待准备文件列表大小为【 "+(l>1?l.toFixed(2)+"MB":r.toFixed(2)+"KB")+" 】。")+"准备完成后会在右上角提示您下载!","提示",{confirmButtonText:"准备",cancelButtonText:"取消",type:l>c?"danger":"primary"}).then((function(){u({action:"downloadSrc",src:n}).then((function(e){var t=e.id;console.log("获取到下载ID："+t),i.$store.dispatch("downloadStatus/setVisible",!0),i.$notify.success({title:"提示",message:"成功创建下载任务"});var n=0;n=setInterval((function(){u({action:"queryDownload",id:t}).then((function(e){e.done&&(a.$notify.success({title:"任务下载提示",message:"您有一个下载任务【"+t+"】已准备好！"}),clearInterval(n),a.$store.dispatch("downloadStatus/setVisible",!1))}))}),2e3)}))})).catch((function(){i.$message({type:"info",message:"已取消下载"})}))},handleClickDirPath:function(e,t){for(var i="",a=0;a<=t;a++)i=i+"/"+this.dir.currentPath[a];this.handleListLenovoDir(i,"ent")},handleListLenovoDir:function(e,t){var i=this;this.dir.loadingDir=!0,u({action:"listLenovoDir",path:e.replace("+","%2B"),path_type:void 0===t?"ent":t}).then((function(e){e.result?(i.dir.tableData=[],e.data.content&&(e.data.content.forEach((function(e){e.joyeaDesc="",e.isModify=!1,i.dir.tableData.push(e)})),i.dir.currentPath=[],e.data.path.split("/").forEach((function(e){0!==e.length&&i.dir.currentPath.push(e)})))):(i.$notify.error({title:"提示",message:"文件夹列表获取失败"}),console.log("文件夹列表获取失败"+e.msg)),i.dir.loadingDir=!1}))},handleClickDirItem:function(e,t,i){this.visible.searchDialogVisible=!1,this.searchTabName="dir",e.is_dir?this.handleListLenovoDir(e.path,"ent"):this.handleGoToPreview(e)},handleClickSearch:function(e,t,i){e.is_dir&&this.handleClickDirItem(e)},handleGetTopSearchKey:function(){var e=this;g().then((function(t){e.topSearchKey=t.data}))}},mounted:function(){var e=this;this.handleListLenovoDir("/营销素材展示","ent");var t=this.$route.params.toEditList;t&&(this.toCreateAlbum.idEditMode=!0,this.toCreateAlbum.name=t.name,this.toCreateAlbum.editListId=t.id,t.list.forEach((function(t){e.$set(t,"joyeaDesc",t.desc),e.$set(t,"isModify",!1),e.toCreateAlbum.list.push(t)}))),this.handleGetTopSearchKey();var i=document.querySelector("#toSortTable .el-table__body-wrapper tbody"),a=this;ie["a"].create(i,{onEnd:function(e){var t=e.newIndex,i=e.oldIndex,n=a.toCreateAlbum.list.splice(i,1)[0];a.toCreateAlbum.list.splice(t,0,n)}})}},ue=de,he=(i("ac1d"),Object(_["a"])(ue,Y,Z,!1,null,"547ba559",null)),pe=he.exports,me=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{padding:"10px 150px 0 150px"}},[0===e.albumList.length?i("h1",{staticStyle:{color:"#303133",padding:"10px"}},[e._v("您暂时没有创建的清单！")]):i("section",{staticStyle:{padding:"10px"}},[i("el-input",{staticClass:"input-with-select px10_divider",staticStyle:{display:"none"},attrs:{placeholder:"输入清单名称查找"},model:{value:e.search.key,callback:function(t){e.$set(e.search,"key",t)},expression:"search.key"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleSearch},slot:"append"})],1),i("div",{staticClass:"px10_divider"},e._l(e.albumList,(function(t,a){return i("el-card",{staticStyle:{"margin-bottom":"10px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticStyle:{color:"#fff","font-weight":"bold"}},[e._v(e._s(t.name))]),i("span",{staticStyle:{float:"right"}},[i("el-popover",{staticStyle:{"margin-right":"5px"},attrs:{placement:"bottom",title:"分享链接",width:"200",trigger:"hover",content:t.shared?e.domain+"/#/share?albumId="+t.id:"未分享,点击分享后可见"}},[i("el-button",{attrs:{slot:"reference",type:t.shared?"warning":"",icon:"el-icon-share",circle:"",size:"mini"},on:{click:function(t){return e.handleShare(a)}},slot:"reference"})],1),i("el-button",{attrs:{icon:"el-icon-delete",circle:"",size:"mini"},on:{click:function(t){return e.handleDelete(a)}}}),i("el-button",{attrs:{icon:"el-icon-download",circle:"",size:"mini"},on:{click:function(i){return e.handleDownloadSrc(!0,t)}}}),i("el-button",{attrs:{icon:"el-icon-edit",circle:"",size:"mini"},on:{click:function(t){return e.handleEdit(a)}}})],1)]),i("el-row",e._l(t.list,(function(a,n){return i("el-col",{attrs:{md:8,xs:24}},[i("el-card",{staticStyle:{padding:"2px",margin:"5px","text-align":"center",height:"273px"}},[a.mime_type.startsWith("video")?i("img",{staticClass:"album_img",attrs:{src:"video.png"},on:{click:function(t){return e.handleGoToPreview(a)}}}):a.mime_type.startsWith("doc")?i("img",{staticClass:"album_img",attrs:{src:e.handleGetDocumentImage(a.mime_type)},on:{click:function(t){return e.handleGoToPreview(a)}}}):a.mime_type.startsWith("image")?i("img",{staticClass:"album_img",attrs:{src:a.url,onerror:e.defaultImg,preview:t.name,"preview-text":"解说词："+(0===a.desc.length?"暂未设置解说词":a.desc)}}):i("img",{staticClass:"album_img",attrs:{src:"unknown.png"},on:{click:function(t){return e.handleGoToPreview(a)}}}),i("div",{staticStyle:{height:"20px","margin-top":"10px"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:0===a.desc.length?"暂未设置解说词":a.desc,placement:"bottom"}},[i("span",{staticClass:"svg_name"},[e._v(e._s(e.getFilenameByPath(a.path)))])])],1)])],1)})),1)],1)})),1),i("el-dialog",{attrs:{title:e.toPlayVideo.title,visible:e.visible.videoDialogVisible},on:{"update:visible":function(t){return e.$set(e.visible,"videoDialogVisible",t)},close:e.handleCloseVideo,opened:function(t){return e.playVideo()}}},[i("video",{staticClass:"video-js vjs-big-play-centered vjs-fluid",attrs:{id:"myVideo",oncontextmenu:"return false"}},[i("p",{staticClass:"vjs-no-js"},[e._v(" To view this video please enable JavaScript, and consider upgrading to a web browser that "),i("a",{attrs:{href:"https://videojs.com/html5-video-support/",target:"_blank"}},[e._v(" supports HTML5 video ")])])])])],1)])},fe=[],ge={name:"list",data:function(){return{domain:window.location.protocol+"//"+window.location.host,search:{key:""},visible:{videoDialogVisible:!1},toPlayVideo:{title:"",url:""},player:null,albumList:[],defaultImg:'this.src="'+i("1fe8")+'"'}},computed:Object(s["a"])({},Object(r["c"])({userInfo:"userInfo/userInfo"})),methods:{getFilenameByPath:function(e){var t=e.split("/");return t[t.length-1]},handleCloseVideo:function(){null!=this.player&&this.player.pause()},playVideo:function(){var e=this;if(null==this.player)Object(ae["a"])(document.getElementById("myVideo"),{controls:!0,preload:"auto",autoplay:!1,fluid:!0,language:"zh-CN",muted:!1,inactivityTimeout:!1,controlBar:{children:[{name:"playToggle"},{name:"currentTimeDisplay"},{name:"progressControl"},{name:"durationDisplay"},{name:"volumePanel",inline:!1},{name:"FullscreenToggle"}]},sources:[{src:e.toPlayVideo.url,type:"video/mp4"}]},(function(){e.player=this}));else{var t={src:e.toPlayVideo.url,type:"video/mp4"};this.player.pause(),this.player.src(t),this.player.load(t),this.player.play()}},handlePlayVideo:function(e,t){this.visible.videoDialogVisible=!0,this.toPlayVideo.url=e,this.toPlayVideo.title=t},handleGoToPreview:function(e){var t="pic";e.mime_type.startsWith("doc")?t="doc":e.mime_type.startsWith("video")&&(t="av");var i=te(e.neid,e.hash,e.rev,t,this.userInfo.session);e.mime_type.startsWith("video")?this.handlePlayVideo(i,e.path.substr(e.path.lastIndexOf("/")+1)):e.mime_type.startsWith("doc")?window.open(i):this.$message.error("暂不支持的预览类型！")},handleGetDocumentImage:function(e){return ne(e)},handleSearch:function(){},listAlbum:function(){var e=this;u({action:"album",method:"list"}).then((function(t){if(t.result){e.albumList=[];var i="pic";t.data.forEach((function(t){var a=[];t.src.forEach((function(t){a.push({url:te(t.neid,t.hash,t.rev,i,e.userInfo.session),desc:t.desc,path:t.path,neid:t.neid,hash:t.hash,rev:t.rev,filename:t.filename,bytes:t.bytes,size:t.size,mime_type:t.mime_type})})),e.albumList.push({id:t.album_id,name:t.album_name,shared:t.shared,list:a})}))}else console.log(t.msg),e.$message.error("加载失败！")}))},handleDelete:function(e){var t=this;this.$alert("即将删除清单【 "+this.albumList[e].name+" 】！","删除提示",{confirmButtonText:"删除",callback:function(i){"confirm"===i&&u({action:"album",method:"delete",album_id:t.albumList[e].id}).then((function(i){i.result?(t.$message.success("清单【 "+t.albumList[e].name+" 】删除成功！"),t.albumList.splice(e,1)):t.$notify.error({title:"提示",message:"清单【 "+t.albumList[e].name+" 】删除失败！"})}))}})},handleDownloadSrc:function(e,t){var i=this,a=this,n=[],o=0;if(e){var s=0;t.list.forEach((function(e){o+=e.bytes,n.push({index:s+=1,filename:e.path.substr(e.path.lastIndexOf("/")+1),rev:e.rev,neid:e.neid.toString(),path:e.path.replace("+","%2b"),path_type:e.path_type})}))}else n.push({filename:t.path.substr(t.path.lastIndexOf("/")+1),rev:t.rev,neid:t.neid.toString(),path_type:t.path_type});var r=o/1024,l=r/1024,c=300;this.$confirm("您已选中【 "+n.length+" 】个文件，"+(l>c?"待准备文件列表大小为【 "+l.toFixed(2)+"MB 】,文件较大，建议您分批次准备。":"待准备文件列表大小为【 "+(l>1?l.toFixed(2)+"MB":r.toFixed(2)+"KB")+" 】。")+"准备完成后会在右上角提示您下载!","提示",{confirmButtonText:"准备",cancelButtonText:"取消",type:l>c?"danger":"primary"}).then((function(){f(t.id).then((function(e){console.log("record album "+t.id+" download success:"+e)})),u({action:"downloadSrc",src:n}).then((function(e){var t=e.id;console.log("获取到下载ID："+t),i.$store.dispatch("downloadStatus/setVisible",!0),i.$notify.success({title:"提示",message:"成功创建下载任务"});var n=0;n=setInterval((function(){u({action:"queryDownload",id:t}).then((function(e){e.done&&(a.$notify.success({title:"任务下载提示",message:"您有一个任务【"+t+"】任务下载成功！"}),clearInterval(n),a.$store.dispatch("downloadStatus/setVisible",!1))}))}),2e3)}))})).catch((function(){i.$message({type:"info",message:"已取消下载"})}))},handleEdit:function(e){var t=this;console.log(this.albumList[e]),this.$alert("你即将前往编辑页面，编辑【 "+this.albumList[e].name+" 】清单","提示",{confirmButtonText:"确定",callback:function(i){"confirm"===i&&t.$router.push({name:"build",params:{toEditList:t.albumList[e]}})}})},handleShare:function(e){var t=this;u({action:"album",method:this.albumList[e].shared?"unShare":"share",album_id:this.albumList[e].id}).then((function(i){i.result?t.albumList[e].shared=!t.albumList[e].shared:t.$message.error("操作失败！")}))}},mounted:function(){this.listAlbum()}},ve=ge,be=(i("a969"),Object(_["a"])(ve,me,fe,!1,null,"322b4926",null)),ye=be.exports,we=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-text":"拼命加载中"}},[i("el-card",{staticStyle:{"margin-bottom":"10px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticStyle:{color:"#fff","font-weight":"bold"}},[e._v(e._s(e.album.name))])]),i("el-row",e._l(e.album.list,(function(t,a){return i("el-col",{attrs:{md:8,xs:24}},[i("el-card",{staticStyle:{padding:"2px",margin:"5px","text-align":"center"}},[i("img",{staticStyle:{width:"100%","object-fit":"contain"},attrs:{src:t.url,preview:e.album.name,onerror:e.defaultImg,"preview-text":t.desc}}),i("div",{staticStyle:{height:"20px","margin-top":"10px"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.desc,placement:"bottom"}},[i("span",{staticClass:"svg_name"},[i("b",[e._v("解说词：")]),e._v(e._s(0===t.desc.length?"暂未设置解说词":t.desc))])])],1)])],1)})),1)],1)],1)},_e=[],Se=i("118d"),xe=i.n(Se),ke={name:"share",components:{"vue-load-image":xe.a},data:function(){return{loading:!1,album:{name:"",src:{}},defaultImg:'this.src="'+i("1fe8")+'"'}},computed:Object(s["a"])({},Object(r["c"])({userInfo:"userInfo/userInfo"})),methods:{},mounted:function(){var e=this;this.loading=!0;var t=this,i=this.$route.query.albumId;i?m().then((function(a){4001===a.code?(e.$router.push({name:"login",query:{ref:btoa(JSON.stringify({fromShare:!0,albumId:i}))}}),e.loading=!1):u({action:"album",method:"shareList",album_id:parseInt(i)}).then((function(i){if(i.result){var a=[],n="pic";i.album.src.forEach((function(t){a.push({url:te(t.neid,t.hash,t.rev,n,e.userInfo.session),desc:t.desc})})),t.album.list=a,t.album.name=i.album.album_name,t.album.id=i.album.album_id}else e.$notify.error({duration:0,title:"提示",message:"获取分享信息失败："+i.msg});e.loading=!1}))})):(this.$message.error("分享链接无效，已跳转至登录界面"),this.$router.push("/login"))}},Ce=ke,De=(i("8978"),Object(_["a"])(Ce,we,_e,!1,null,"21ebfa30",null)),Ie=De.exports,Pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{padding:"10px 150px 0 150px"}},[0===e.recordList.length?i("h1",[e._v("暂时没有需要审核的上传文件！")]):e._e(),i("el-row",e._l(e.recordList,(function(t,a){return i("el-col",{key:a,attrs:{span:6}},[i("el-card",{staticStyle:{margin:"20px"}},[i("div",{on:{click:function(i){return e.handleGoToPreview(t)}}},[t.srcType.startsWith("image")?i("img",{staticClass:"image",staticStyle:{height:"400px"},attrs:{preview:"dir_image_list","preview-text":t.srcNeid,src:t.srcPreviewUrl,fit:"contain"}}):i("img",{staticClass:"image",staticStyle:{height:"400px"},attrs:{src:e.getDocumentImage(t.srcType),fit:"contain"}})]),i("div",{staticStyle:{padding:"14px"}},[i("span"),i("div",[i("div",[e._v("上传者:"+e._s(t.uploaderName))]),i("div",[e._v("上传文件说明:"+e._s(t.srcDesc))]),i("time",{staticClass:"time"},[e._v(e._s(t.createdAt))])]),i("div",{staticClass:"bottom clearfix"},[i("el-button",{attrs:{type:"danger"},on:{click:function(i){return e.handleRefuseUpload(t)}}},[e._v("不通过")]),i("el-button",{attrs:{type:"primary"},on:{click:function(i){return e.handleStartAllow(t,!1)}}},[e._v("通过")]),i("el-button",{attrs:{type:"primary"},on:{click:function(i){return e.handleStartAllow(t,!0)}}},[e._v("通过并统计")])],1)])])],1)})),1),i("el-dialog",{attrs:{visible:e.manageDialogVisible,title:"审核详情"},on:{"update:visible":function(t){e.manageDialogVisible=t}}},[e.manageDialogVisible?i("div",[e.toManageRecord.srcType.startsWith("image")?i("el-image",{staticClass:"image",staticStyle:{height:"400px"},attrs:{src:e.toManageRecord.srcPreviewUrl,fit:"contain"}}):i("el-image",{staticClass:"image",staticStyle:{height:"400px"},attrs:{src:e.getDocumentImage(e.toManageRecord.srcType),fit:"contain"}})],1):e._e(),i("el-form",{ref:"form",attrs:{"label-width":"80px"}},[i("el-form-item",{attrs:{label:"文件名"}},[i("el-input",{model:{value:e.toManageRecord.srcName,callback:function(t){e.$set(e.toManageRecord,"srcName",t)},expression:"toManageRecord.srcName"}},[i("template",{slot:"append"},[e._v("."+e._s(e.toManageRecord.suffix))])],2)],1),i("el-form-item",{attrs:{label:"文件路径"}},[i("el-button",{on:{click:function(t){e.selectPathVisible=!0}}},[e._v("选择路径")]),i("el-input",{attrs:{disabled:""},model:{value:e.toManageRecord.uploadPath,callback:function(t){e.$set(e.toManageRecord,"uploadPath",t)},expression:"toManageRecord.uploadPath"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.manageDialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.handleAllowRecord}},[e._v("确 定")])],1)],1),i("lenovo-dir-selector",{attrs:{visible:e.selectPathVisible},on:{"update:visible":function(t){e.selectPathVisible=t},close:function(t){e.selectPathVisible=!1},selectPath:e.handleSelectUploadPath}}),i("el-dialog",{attrs:{title:e.toPlayVideo.title,visible:e.visible.videoDialogVisible},on:{"update:visible":function(t){return e.$set(e.visible,"videoDialogVisible",t)},close:e.handleCloseVideo,opened:function(t){return e.playVideo()}}},[i("video",{staticClass:"video-js vjs-big-play-centered vjs-fluid",attrs:{id:"myVideo",oncontextmenu:"return false"}},[i("p",{staticClass:"vjs-no-js"},[e._v(" To view this video please enable JavaScript, and consider upgrading to a web browser that "),i("a",{attrs:{href:"https://videojs.com/html5-video-support/",target:"_blank"}},[e._v(" supports HTML5 video ")])])])])],1)},Le=[],$e=(i("d81d"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{visible:e.visible,title:"请选择目录","modal-append-to-body":!0},on:{close:e.handleClickClose,opened:e.handleDialogOpened}},[i("div",[i("span",[i("span",{staticStyle:{color:"#1f1731","font-size":"15px",cursor:"pointer"},on:{click:function(t){return e.handleListLenovoDir("/营销素材展示","ent")}}},[e._v("首页")]),e._l(e.dir.currentPath,(function(t,a){return"营销素材展示"!==t?i("span",{staticStyle:{display:"inline"}},[e._v("/ "),i("span",{staticStyle:{color:"#1f1731","font-size":"15px",cursor:"pointer"},on:{click:function(i){return e.handleClickDirPath(t,a)}}},[e._v(e._s(t))])]):e._e()}))],2),i("el-button",{staticStyle:{margin:"0 20px"},attrs:{type:"primary"},on:{click:e.handleSelect}},[e._v("选择")])],1),i("div",[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dir.loadingDir,expression:"dir.loadingDir"}],attrs:{data:e.filterDirList(e.dir.tableData),"show-header":!1,"empty-text":"没有可选目录啦!"},on:{"row-click":e.handleClickItem}},[i("el-table-column",{attrs:{label:"路径"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.genFileName(t.row.path))+" ")]}}])})],1)],1)])],1)}),Te=[],Ve={name:"LenovoDirSelector",data:function(){return{dir:{currentPathNeid:"",currentPath:[],tableData:[],loadingDir:!1}}},props:{visible:{type:Boolean,default:!0}},methods:{genFileName:re,filterDirList:le,handleClickDirPath:function(e,t){for(var i="",a=0;a<=t;a++)i=i+"/"+this.dir.currentPath[a];this.handleListLenovoDir(i,"ent")},handleSelect:function(){this.$emit("selectPath",{neid:this.dir.currentPathNeid,path:this.dir.currentPath})},handleClickClose:function(){this.$emit("close")},handleClickItem:function(e){this.handleListLenovoDir(e.path,"ent")},handleListLenovoDir:function(e,t){var i=this;this.dir.loadingDir=!0,u({action:"listLenovoDir",path:e.replace("+","%2B"),path_type:void 0===t?"ent":t}).then((function(e){e.result?(i.currentTypeActive=0,i.dir.tableData=[],e.data.content&&(e.data.content.forEach((function(e){e.joyeaDesc="",e.isModify=!1,i.dir.tableData.push(e)})),i.dir.currentPath=[],i.dir.currentPathNeid=e.data.neid,e.data.path.split("/").forEach((function(e){0!==e.length&&i.dir.currentPath.push(e)})))):console.log("文件夹列表获取失败"+e.msg),i.dir.loadingDir=!1}))},handleDialogOpened:function(){this.handleListLenovoDir("/营销素材展示","ent")}},created:function(){}},Oe=Ve,je=Object(_["a"])(Oe,$e,Te,!1,null,"9f51d7fc",null),Me=je.exports,Ae={name:"UploadManage",components:{LenovoDirSelector:Me},data:function(){return{manageDialogVisible:!1,recordList:[],toManageRecord:{},selectPathVisible:!1,toPlayVideo:{title:"",url:""},visible:{videoDialogVisible:!1}}},computed:Object(s["a"])({},Object(r["c"])({userInfo:"userInfo/userInfo"})),methods:{handleAllowRecord:function(){var e=this;this.toManageRecord.srcName&&this.toManageRecord.uploadPath?b(this.toManageRecord.id,!0,null,this.toManageRecord.uploadPath,this.toManageRecord.uploadPathNeid,this.toManageRecord.srcName+"."+this.toManageRecord.suffix,this.toManageRecord.needCount).then((function(t){t.data&&(e.$message.success("审核成功！"),e.getUnCheckRecord(),e.manageDialogVisible=!1)})):this.$message.error("请先完善上传文件的文件名和上传路径！")},handleStartAllow:function(e,t){this.toManageRecord=e,this.toManageRecord.suffix=se(this.toManageRecord.tempSrcName),this.toManageRecord.needCount=t,this.manageDialogVisible=!0},handleGoToPreview:function(e){e=ce(e);var t="pic";e.mime_type.startsWith("doc")?t="doc":e.mime_type.startsWith("video")&&(t="av");var i=te(e.neid,e.hash,e.rev,t,this.userInfo.session);e.mime_type.startsWith("video")?this.handlePlayVideo(i,"视频预览"):e.mime_type.startsWith("image")||(e.mime_type.startsWith("doc")?window.open(i):this.$message.error("暂不支持的预览类型！"))},handlePlayVideo:function(e,t){this.visible.videoDialogVisible=!0,this.toPlayVideo.url=e,this.toPlayVideo.title=t},handleCloseVideo:function(){null!=this.player&&this.player.pause()},playVideo:function(){var e=this;if(null==this.player)Object(ae["a"])(document.getElementById("myVideo"),{controls:!0,preload:"auto",autoplay:!1,fluid:!0,language:"zh-CN",muted:!1,inactivityTimeout:!1,controlBar:{children:[{name:"playToggle"},{name:"currentTimeDisplay"},{name:"progressControl"},{name:"durationDisplay"},{name:"volumePanel",inline:!1},{name:"FullscreenToggle"}]},sources:[{src:e.toPlayVideo.url,type:"video/mp4"}]},(function(){e.player=this}));else{var t={src:e.toPlayVideo.url,type:"video/mp4"};this.player.pause(),this.player.src(t),this.player.load(t),this.player.play()}},genSrcPreviewSrc:te,getDocumentImage:ne,handleSelectUploadPath:function(e){this.selectPathVisible=!1,this.toManageRecord.uploadPath="/"+e.path.join("/"),this.toManageRecord.uploadPathNeid=e.neid},handleRefuseUpload:function(e){var t=this;this.$prompt("给点建议吧！","拒绝提示",{confirmButtonText:"拒绝",cancelButtonText:"我再想想"}).then((function(i){var a=i.value;b(e.id,!1,a).then((function(e){e.data&&(t.$message.success("审核成功！"),t.getUnCheckRecord())}))}))},getUnCheckRecord:function(){var e=this;v(1,9999).then((function(t){t.data.record.map((function(i){i.uploaderName=t.data.user[i.uploader],i.srcPreviewUrl=e.genSrcPreviewSrc(i.srcNeid,i.srcHash,i.srcRev,"pic",e.userInfo.session)})),e.recordList=t.data.record}))}},created:function(){this.getUnCheckRecord()}},Ne=Ae,Re=(i("a9c0"),Object(_["a"])(Ne,Pe,Le,!1,null,"34c3673b",null)),Ee=Re.exports;a["default"].use(k["a"]);var Fe=new k["a"]({base:"/",routes:[{path:"/login",name:"login",desc:"登陆",component:X,hidden:!0},{path:"/share",name:"share",desc:"分享",component:Ie,hidden:!0},{path:"/",name:"工作台",desc:"工作台",component:z,icon:"el-icon-edit",noChild:!0,redirect:"/build",children:[{path:"/build",component:pe,name:"build",desc:"制作清单"}]},{path:"/",name:"我的清单",component:z,icon:"el-icon-tickets",noChild:!0,children:[{path:"/manage/list",component:ye,name:"list",desc:"清单"}]},{path:"/",name:"素材审核",component:z,icon:"el-icon-paperclip",noChild:!0,children:[{path:"/upload/manage",component:Ee,name:"uploadManage",desc:"素材审核"}]}]}),Be=i("5c96"),We=i.n(Be),Ue=(i("0fae"),i("d1d4")),ze=i.n(Ue),Ke=(i("394c"),i("11f5"),i("2eee")),Ge=i("92ea");i("fda2");ae["a"].addLanguage("zh-CN",Ke),ae["a"].addLanguage("en",Ge),a["default"].config.productionTip=!1,a["default"].use(We.a),a["default"].use(ze.a),new a["default"]({router:Fe,store:R,render:function(e){return e(x)}}).$mount("#app")},"5c0b":function(e,t,i){"use strict";var a=i("2b43"),n=i.n(a);n.a},8978:function(e,t,i){"use strict";var a=i("2eed"),n=i.n(a);n.a},"8b8d":function(e,t,i){"use strict";var a=i("9f5c"),n=i.n(a);n.a},"9b52":function(e,t,i){},"9f5c":function(e,t,i){},a969:function(e,t,i){"use strict";var a=i("2174"),n=i.n(a);n.a},a9c0:function(e,t,i){"use strict";var a=i("9b52"),n=i.n(a);n.a},ac1d:function(e,t,i){"use strict";var a=i("3f64"),n=i.n(a);n.a},e94d:function(e,t,i){}});